
# ๐ ูุณุชูุฏ ุขููุฒุด ูพุงุฏูโุณุงุฒ Login & Register (Mock) ุจุง React Native + Expo Router

## ๐ฏ ูุฏู
ูพุงุฏูโุณุงุฒ ุณุณุชู ูุฑูุฏ (Login) ู ุซุจุชโูุงู (Register) ุฏุฑ ุงูพ ููุจุงู ุจุง React Native ู Expo Router.
ูุนูุงู ุงุฒ Mock ุงุณุชูุงุฏู ุดุฏู ุชุง ุจุนุฏุงู ุจุชูุงูู ุขู ุฑุง ุจุง API ูุงูุน ุฌุงฺฏุฒู ฺฉูู.

---

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
app/
  _layout.tsx         โ Root Layout (RouteGuard + Providerูุง)
  (auth)/
    _layout.tsx       โ Stack ุตูุญุงุช Login/Register
    login.tsx
    register.tsx
  (app)/
    _layout.tsx       โ Stack ุตูุญุงุช ุฎุตูุต
    index.tsx
src/
  context/
    AuthContext.tsx   โ ูุฏุฑุช ูุถุนุช ฺฉุงุฑุจุฑ
  services/
    authClient.ts     โ ุฑุงุจุท Auth (ุงูุงู Mockุ ุจุนุฏุงู API)
  mock/
    authMock.ts       โ ุจฺฉโุงูุฏ ุฌุนู (In-memory)
  ui/
    FormTextInput.tsx โ ฺฉุงููพูููุช ูุฑูุฏ
    PrimaryButton.tsx โ ุฏฺฉูู
```

---

## ๐ ุฌุฑุงู ฺฉุงุฑ (Flow)

![Auth Flow](auth_flow.png)

1. **ุดุฑูุน ุงูพ** โ AuthProvider ู RouteGuard ููุฏ ูโุดููุฏ.
2. RouteGuard ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ฺฉุงุฑุจุฑ ูุงุฑุฏ ุดุฏู ุง ูู.
3. ุงฺฏุฑ ูุงุฑุฏ ุดุฏู โ ุจู `(app)` ูโุฑูุฏ.
4. ุงฺฏุฑ ูุงุฑุฏ ูุดุฏู โ ุจู `(auth)/login` ูโุฑูุฏ.
5. ฺฉุงุฑุจุฑ ูุฑู ูุงฺฏู ุง ุซุจุชโูุงู ุฑุง ูพุฑ ูโฺฉูุฏ (Formik + Yup).
6. authClient ุฏุฑุฎูุงุณุช ุฑุง ุจู authMock ูโูุฑุณุชุฏ.
7. authMock ุจุฑุฑุณ ฺฉุงุฑุจุฑ ู ูพุณูุฑุฏ ุฑุง ุงูุฌุงู ูโุฏูุฏ ู ุชูฺฉูโูุง ุฌุนู ูโุณุงุฒุฏ.
8. ุชูฺฉูโูุง ุฏุฑ Storage (SecureStore/AsyncStorage) ุฐุฎุฑู ูโุดููุฏ.
9. ฺฉุงุฑุจุฑ ุจู Home Screen ุฎุตูุต ูุฏุงุช ูโุดูุฏ.
10. ุจุง Logout โ ุชูฺฉูโูุง ูพุงฺฉ ุดุฏู ู ฺฉุงุฑุจุฑ ุจู ุตูุญู ูุงฺฏู ุจุฑูโฺฏุฑุฏุฏ.

---

## ๐ง ูฺฉุงุช ููู

- ุฏุฑ Root Layout ูุจุงุฏ `<Stack>` ุจุงุดุฏ ุชุง ุฎุทุง EnsureSingleNavigator ูุงุฏ.
- ูุฑ ฺฏุฑูู Route (`(auth)`, `(app)`) ุจุงุฏ `_layout.tsx` ู Stack ุฎูุฏุด ุฑุง ุฏุงุดุชู ุจุงุดุฏ.
- AuthContext ูุถุนุช ู ูุชุฏูุง login/register/logout ุฑุง ูุฏุฑุช ูโฺฉูุฏ.
- authClient ุฑุงุจุท ุจู ุงูพ ู ููุจุน Auth ุงุณุช (ุงูุงู Mockุ ุจุนุฏุงู API).
- authMock ููุท ุจุฑุง ุชุณุช ุงุณุชุ ูพุณูุฑุฏูุง ุฑุง Plain Text ูฺฏู ูโุฏุงุฑุฏ.

---

## ๐ ูุฑุงุญู ุงุฌุฑุง

1. ูุตุจ ูพฺฉุฌโูุง:
```bash
npm i formik yup axios @react-navigation/native-stack
npx expo install @react-native-async-storage/async-storage expo-secure-store
```

2. ุงุฌุงุฏ ูุงูโูุง ุทุจู ุณุงุฎุชุงุฑ ุจุงูุง.

3. ุงุฌุฑุง ูพุฑูฺู:
```bash
npm start
```

4. ุชุณุช:
- ุฑูุชู ุจู `/(auth)/register` ู ุซุจุชโูุงู.
- ูุฑูุฏ ุฎูุฏฺฉุงุฑ ุจู `(app)`.
- ุฎุฑูุฌ ู ุจุงุฒฺฏุดุช ุจู ูุงฺฏู.

---

## โญ ูุฏู ุจุนุฏ
- ุฌุงฺฏุฒู ฺฉุฑุฏู authMock ุจุง API ูุงูุน (FastAPI Auth Service).
- ุงุถุงูู ฺฉุฑุฏู Refresh Token ูุงูุน.
- ูุฏุฑุช ุฎุทุงูุง API ู ูพุงูโูุง ููุงุณุจ ุจุฑุง ฺฉุงุฑุจุฑ.
